<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Crazy Friend ‚ù§Ô∏è</title>

<style>
body{
  margin:0;
  font-family:cursive;
  overflow-x:hidden;
  overflow-y:auto;
  background:url("heart.gif") no-repeat center center fixed;
  background-size:cover;
  color:white;
  text-align:center;
}
body::before{
  content:"";
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.45);
  z-index:-1;
}


.screen{
   position:absolute;
  width:100%;
  min-height:100vh;
  overflow-y:auto;
  padding:20px;
  box-sizing:border-box;
  transition:transform 0.6s ease-in-out;
}

.screen{
  transition: all 0.6s ease-in-out;
}

.hidden{
  transform:translateX(100%);
  opacity:0;
}

.active{
  transform:translateX(0);
  opacity:1;
}


button{
  padding:10px 20px;
  border-radius:25px;
  border:none;
  background:hotpink;
  color:white;
  font-size:18px;
  margin:10px;
  cursor:pointer;
  outline:none;
  box-shadow:none;
  -webkit-tap-highlight-color: transparent;
}

button:focus{
  outline:none;
  box-shadow:none;
}

button:active{
  transform:scale(0.95);
}


textarea{
  width:90%;
  height:70px;
  border-radius:10px;
  border:none;
  padding:10px;
  margin:10px 0;
}

.reaction{
  font-size:22px;
  margin-top:15px;
  animation:shake 0.5s ease;
}

@keyframes shake{
  0%{transform:translateX(-5px);}
  50%{transform:translateX(5px);}
  100%{transform:translateX(0);}
}

.slideshow{
  position:relative;
  width:100%;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}

.slide{
  position:absolute;
  max-width:90%;
  max-height:90%;
  object-fit:contain;
  opacity:0;
  transition:opacity 2s ease-in-out;
  border-radius:20px;
  box-shadow:0 0 40px rgba(255,105,180,0.6);
}

.slide.active{
  opacity:1;
}



.quote{
  margin-top:20px;
  font-size:18px;
  animation:glow 2s infinite alternate;
}

@keyframes glow{
  from{text-shadow:0 0 5px pink;}
  to{text-shadow:0 0 20px red;}
}

</style>
</head>

<body>

<!-- SCREEN 1 LOGIN -->
<div class="screen active" id="screen1">
  <h2>What is the romantic character name you studied last? üòè</h2>
  <input id="answer" placeholder="Type here">
  <br><br>
  <button onclick="check()">Enter</button>
  <div id="reaction"></div>
</div>

<!-- SCREEN 2 QUESTIONS -->
<div class="screen hidden" id="screen2">
  <h3>Now Answer Honestly üòå</h3>

  <p>When you entered your first night room what was the first thing you did? üòè</p>
  <textarea id="q1"></textarea>

  <p>What is your favorite thing about me?</p>
  <textarea id="q2"></textarea>

  <p>Do you regret at any point of our friendship?</p>
  <textarea id="q3"></textarea>

  <p>I love you more or my boyfriend?</p>
<button onclick="setLove1('YES (You)')">YES (You)</button>
<button id="runNo" onclick="setLove1('NO (Him)')" onmouseover="runAway(this)">NO (Him)</button>

  <p>Do you love me more than your husband?</p>
<button onmouseover="growNo()" onclick="setLove2('YES')">YES</button>
<button id="bigNo" onclick="setLove2('NO')">NO</button>

  <br>
  <button onclick="goMemories()">Submit ‚ù§Ô∏è</button>
</div>

<!-- SCREEN 3 MEMORIES -->
<div class="screen hidden" id="screen3">
  <h2>Our Crazy Beautiful Friendship ‚ù§Ô∏è</h2>
  <br>
<button onclick="toggleMusic()">Pause / Play Music üéµ</button>



  <div class="slideshow">
    <img src="friend1.jpg" class="slide active">
    <img src="friend2.jpg" class="slide">
    <img src="friend3.jpg" class="slide">
    <img src="friend4.jpg" class="slide">
    <img src="friend5.jpg" class="slide">
    <img src="friend6.jpg" class="slide">
    <img src="friend7.jpg" class="slide">
    <img src="friend8.jpg" class="slide">
    <img src="friend9.jpg" class="slide">
    <img src="friend10.jpg" class="slide">
    <img src="friend11.jpg" class="slide">
    
  </div>
<div style="width:100%; height:100vh; display:flex; justify-content:center; align-items:center;">

  <video controls loop style="max-width:90%; max-height:90%; border-radius:20px; box-shadow:0 0 40px rgba(255,105,180,0.6);">
    <source src="video1.mp4" type="video/mp4">
  </video>

</div>

<div style="width:100%; height:100vh; display:flex; justify-content:center; align-items:center;">

  <video controls loop style="max-width:90%; max-height:90%; border-radius:20px; box-shadow:0 0 40px rgba(255,105,180,0.6);">
    <source src="video2.mp4" type="video/mp4">
  </video>

</div>





  <div class="quote">
    "Partners in crime forever üòå‚ù§Ô∏è"<br>
    "No boyfriend can replace best friend energy üî•"<br>
    "Through every drama, we survived together üíï"
  </div>
</div>

<script>

let love1 = "Not answered";
let love2 = "Not answered";

function setLove1(ans){
  love1 = ans;
}

function setLove2(ans){
  love2 = ans;
}

function show(current,next){

  document.getElementById(current).classList.remove("active");
  document.getElementById(current).classList.add("hidden");

  document.getElementById(next).classList.remove("hidden");
  document.getElementById(next).classList.add("active");

  history.pushState({page: next}, "", "#" + next);
}


function check(){

  let music = document.getElementById("bgMusic");
  music.play();   // starts music after user clicks Enter

  let reaction=document.getElementById("reaction");
  reaction.innerHTML=
  "<div class='reaction'>I know you're romantic üòè but not THIS much dirty üò≠üî•</div>";

  setTimeout(()=>{ show("screen1","screen2"); },2000);
}


function runAway(btn){
  btn.style.position="absolute";
  btn.style.left=Math.random()*70+"%";
  btn.style.top=Math.random()*70+"%";
}

let size=18;
function growNo(){
  size+=8;
  document.getElementById("bigNo").style.fontSize=size+"px";
}

function toggleMusic(){
  let music = document.getElementById("bgMusic");
  if(music.paused){
    music.play();
  } else {
    music.pause();
  }
}
async function goMemories(){

  let submission = {
    firstNight: document.getElementById("q1").value,
    favoriteThing: document.getElementById("q2").value,
    regret: document.getElementById("q3").value,
    boyfriendQuestion: love1,
    husbandQuestion: love2
  };

  try {
    let response = await fetch("https://formspree.io/f/xzdarylv", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(submission)
    });

    if(response.ok){
      alert("Submitted successfully üíå");
      show("screen2","screen3");
    } else {
      alert("Submission failed üò¢");
    }

  } catch(error){
    alert("Error sending form ‚ùå");
  }
}

/* üîí SECRET ADMIN MODE */
document.addEventListener("keydown", function(e){
  if(e.ctrlKey && e.key === "a"){   // press CTRL + A
    let pass = prompt("Enter Admin PIN:");

    if(pass === "ammu123"){

      if(data.length === 0){
        alert("No submissions yet üíî");
        return;
      }

      let content = "<h2>All Submissions üíå</h2>";

      data.forEach((item, index) => {
        content += `
        <div style="background:#222;padding:15px;margin:15px;border-radius:15px;">
          <b>Submission ${index+1}</b><br><br>
          <b>Date:</b> ${item.date}<br><br>
          <b>First Night:</b><br>${item.firstNight}<br><br>
          <b>Favorite Thing:</b><br>${item.favoriteThing}<br><br>
          <b>Regret:</b><br>${item.regret}<br><br>
          <b>Love vs Boyfriend:</b><br>${item.boyfriendQuestion}<br><br>
          <b>Love vs Husband:</b><br>${item.husbandQuestion}
        </div>
        `;
      });

      document.body.innerHTML = content;

    } else {
      alert("Wrong PIN ‚ùå");
    }
  }
});


/* Slideshow */
let slides=document.querySelectorAll(".slide");
let index=0;
setInterval(()=>{
  slides[index].classList.remove("active");
  index=(index+1)%slides.length;
  slides[index].classList.add("active");
},4000);

window.addEventListener("popstate", function(e){

  if(e.state && e.state.page){

    document.querySelectorAll(".screen").forEach(screen=>{
      screen.classList.remove("active");
      screen.classList.add("hidden");
    });

    document.getElementById(e.state.page).classList.remove("hidden");
    document.getElementById(e.state.page).classList.add("active");
  }

});


</script>

<audio id="bgMusic" loop>
  <source src="music.mp3" type="audio/mp3">
</audio>

</body>
</html>
